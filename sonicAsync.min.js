(function(d){function u(c,b,a){var e;c[b](function(f,k){e?n(f,k):(e=1,a[3]-=1,f)?a[5]||(a[5]=1,a[2](f,a[1])):(a[1][b]=k,a[0]+=1,a[0]<a[4]?(a[3]+=1,u(c,a[0],a)):a[3]||a[5]||(a[5]=1,a[2](f,a[1])))})}function l(){}function n(c,b){d.silent||console.error("callback called already; err=",c,"; data=",b);if(d.trace)console.trace("callback called already stack");else if(d.errout)throw Error("callback called already");}function t(){throw Error("limit not specified or too big");}d.fastWaterfall=function(c,b){function a(f,
k){e+=1;var h=c[e];f?b(f):h?h(k,a):b(f,k)}b=b||l;var e=0;c[0](null,a)};d.waterfall=function(c,b){b=b||l;var a=function(e){return function(f,k){var h=e;if(h){var g=c[h];f?b(f):g?(g(k,a(h+1)),e=null):b(f,k)}else n(f,k)}};c[0](null,a(1))};d.series=function(c,b){d.parallelLimit(c,1,b)};d.filterSeries=function(c,b,a){function e(g){var v;b(c[g],function(b,d){v?n(b,d):(v=1,b?a(b,k):(d&&(k[h]=c[g],h+=1),g+=1,g<f?e(g):a(b,k)))})}a=a||l;var f=c.length,k=[],h=0;e(0)};d.mapSeries=function(c,b,a){function e(h){var g;
b(c[h],function(b,c){g?n(b,c):(g=1,b?a(b,k):(k[h]=c,h+=1,h<f?e(h):a(b,k)))})}a=a||l;var f=c.length,k=[];e(0)};d.filter=function(c,b,a){d.filterParallel(c,b,a)};d.filterParallel=function(c,b,a){function e(e){var f;b(c[e],function(b,d){if(f)n(b,d);else if(f=1,b?h=0:(d&&(k[e]=c[e]),h-=1),!h&&!g)if(g=1,b)a(b,k);else{for(var l=[],s=k.length,q=0,p=0;p<s;p+=1)k[p]&&(l[q]=k[p],q+=1);a(b,l)}})}a=a||l;for(var f=c.length,k=Array(f),h=f,g=0;f;)f-=1,e(f)};d.filter=d.filterParallel;d.mapParallel=function(c,b,a){function e(e){var f;
b(c[e],function(b,c){f?n(b,c):(f=1,b)?g||(g=1,a(b,k)):(k[e]=c,h-=1,h||g||(g=1,a(b,k)))})}a=a||l;for(var f=c.length,k=Array(f),h=f,g=0;f;)f-=1,e(f)};d.map=d.mapParallel;d.filterLimit=function(c,b,a,e){function f(a){var l;b(c[a],function(b,s){if(l)n(b,s);else if(l=1,b)d||(d=1,e(b,h));else if(g-=1,s&&(h[a]=c[a]),m<k)d||(g+=1,f(m++));else if(!g&&!d){d=1;for(var q=[],p=0,r=0;r<k;r+=1)h[r]&&(q[p]=h[r],p+=1);e(b,q)}})}e=e||l;var k=c.length;(!a||a>k)&&t();for(var h=[],g=0,d=0,m=0;m<a;m+=1)g+=1,f(m)};d.mapLimit=
function(c,b,a,e){function f(a){var l;b(c[a],function(b,c){l?n(b,c):(l=1,b)?d||(d=1,e(b,h)):(g-=1,h[a]=c,m<k?d||(g+=1,f(m++)):g||d||(d=1,e(b,h)))})}e=e||l;var k=c.length;(!a||a>k)&&t();for(var h=[],g=0,d=0,m=0;m<a;m+=1)g+=1,f(m)};d.parallel=function(c,b){function a(a){return function(c,d){null===a?b!==l&&n(c,d):(c?e=0:(f[a]=d,a=null,e-=1),e||(b(c,f),b=l))}}b=b||l;for(var e=c.length,f=[],d=e;d;)d-=1,c[d](a(d))};d.parallelLimit=function(c,b,a){a=a||l;var e=c.length;(!b||b>e)&&t();a=[b-1,[],a,0,e,0];
for(e=0;e<b;e+=1)a[3]+=1,u(c,e,a)};d.Noapply=function(c){var b=[].slice.call(arguments,1);return function(){var a=arguments.length,e;if(0<a){e=[].slice.call(arguments);for(var d=0;d<a;d++)b.push(e[d])}return c.apply(null,b)}};d.trace=0;d.silent=0})(module&&exports?exports:this.sonicAsync=this.sonicAsync||{});
